<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- å¯¼èˆªæ  -->
  <div class="navbar">
    <!-- å·¦ä¾§æ–‡å­— -->
    <div class="logo"> ç«æŠŠèŠ‚</div>
    <!-- ä¸­é—´å¯¼èˆªé“¾æ¥ -->
    <div class="nav-links">
      <a href="../index.html">é¦–é¡µ</a>
      <a href="../culture/culture.html">ç«æŠŠèŠ‚æ–‡åŒ–</a>
      <a href="../study/study.html">å­¦ä¹ ä¸ç ”ç©¶</a>
      <a href="../portect/protect.html">ä¿æŠ¤ä¸ä¼ æ‰¿</a>
      <a href="community.html" class="active">äº’åŠ¨ç¤¾åŒº</a>

    </div>
    <!-- å³ä¾§æœç´¢æ¡† -->
    <div class="search-box">
      <input type="text" placeholder="search">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path fill="#d6bcb2"
          d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
      </svg>
    </div>
  </div>

  <!-- é‡è§ç«æŠŠèŠ‚ -->
  <div class="container1">
    <div class="title">é‡è§~ç«æŠŠèŠ‚ - æ°´ç«äº¤è å¤§ç†è¥¿æ¹–"æ°´ä¸Šç«æŠŠèŠ‚"ç‹‚æ¬¢</div>
    <div class="content-box">
      <div class="video-container">
        <div class="main-video">

          <video id="mainVideoPlayer" controls autoplay muted>
            <source src="ç´ æå›¾/è§†é¢‘1.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾
          </video>
        </div>
      </div>
      <div class="video-links">
        <div class="link-line active" data-video="ç´ æå›¾/è§†é¢‘1.mp4" data-title="æ°´ç«äº¤è å¤§ç†è¥¿æ¹–" æ°´ä¸Šç«æŠŠèŠ‚"ç‹‚æ¬¢">
          æ°´ç«äº¤è å¤§ç†è¥¿æ¹–"æ°´ä¸Šç«æŠŠèŠ‚"ç‹‚æ¬¢
        </div>
        <div class="link-line" data-video="ç´ æå›¾/è§†é¢‘2.mp4" data-title="å‡‰å±±ç«æŠŠèŠ‚ï¼šç«èˆç‹‚æ¬¢ä¸å¤œå¤©">
          å‡‰å±±ç«æŠŠèŠ‚ï¼šç«èˆç‹‚æ¬¢ä¸å¤œå¤©
        </div>
        <div class="link-line" data-video="ç´ æå›¾/è§†é¢‘3.mp4" data-title="ç«æŠŠèŠ‚ç»§ç»­ï¼åœ¨å‡‰å±±ä¼šä¸œå¿æ„Ÿå—ä¼ ç»Ÿæ°‘ä¿—çš„é€Ÿåº¦ä¸æ¿€æƒ…">
          ç«æŠŠèŠ‚ç»§ç»­ï¼åœ¨å‡‰å±±ä¼šä¸œå¿æ„Ÿå—ä¼ ç»Ÿæ°‘ä¿—çš„é€Ÿåº¦ä¸æ¿€æƒ…
        </div>
        <div class="link-line" data-video="ç´ æå›¾/è§†é¢‘4.mp4" data-title="é›„æ¥šç«æŠŠèŠ‚ç«åŠ›å…¨å¼€">
          é›„æ¥šç«æŠŠèŠ‚ç«åŠ›å…¨å¼€
        </div>
        <div class="link-line" data-video="ç´ æå›¾/è§†é¢‘5.mp4" data-title="å½æ—è¥¿æ˜Œç«æŠŠèŠ‚ ç†Šç†Šç¯ç«çš„ç‹‚æ¬¢">
          å½æ—è¥¿æ˜Œç«æŠŠèŠ‚ ç†Šç†Šç¯ç«çš„ç‹‚æ¬¢
        </div>
        <div class="link-line" data-video="ç´ æå›¾/è§†é¢‘6.mp4" data-title="å¤è€ä¼ è¯´çš„å‡‰å±±æ­£ä¸Šæ¼”â€œç«èˆé˜³å¡â€">
          å¤è€ä¼ è¯´çš„å‡‰å±±æ­£ä¸Šæ¼”â€œç«èˆé˜³å¡â€
        </div>
      </div>
    </div>

  </div>

  <!-- è¶£å‘³é—®ç­” -->
  <div class="container2">
    <div class="quiz-container">
      <!-- å·¦ç®­å¤´ -->
      <div class="arrow left-arrow" id="prev-quiz">&#9664;</div>

      <!-- é—®é¢˜å®¹å™¨ -->
      <div class="quiz-box active" data-quiz="1">
        <div class="question-number">01</div>
        <img src="ç´ æå›¾/é—®å·.png" alt="å³ä¸Šè§’å›¾ç‰‡" class="top-image">
        <div class="quiz-content">
          <h3 class="quiz-title">è¶£å‘³é—®ç­” 1</h3>
          <p class="quiz-text">äº‘å—ï¼šäº‘å—å½æ—ç«æŠŠèŠ‚çš„èµ·æºä¼ è¯´ä¸ºäº†çºªå¿µä»€ä¹ˆï¼Ÿ</p>
          <div class="quiz-options">
            <div class="option">
              <label for="option1-1">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹1å›¾ç‰‡" class="option-image">
                <span>A. é˜¿å—å¤«äºº</span>
              </label>
              <input type="radio" id="option1-1" name="quiz1" value="1">
            </div>
            <div class="option">
              <label for="option1-2">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹2å›¾ç‰‡" class="option-image">
                <span>B. é˜¿æŸ¥å’Œè¯ºå¨œçš„çˆ±æƒ…</span>
              </label>
              <input type="radio" id="option1-2" name="quiz1" value="2">
            </div>
            <div class="option">
              <label for="option1-3">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹3å›¾ç‰‡" class="option-image">
                <span>C. èéº¦ä¸°æ”¶</span>
              </label>
              <input type="radio" id="option1-3" name="quiz1" value="3">
            </div>
          </div>
        </div>
      </div>

      <!-- é—®é¢˜2 -->
      <div class="quiz-box" data-quiz="2">
        <div class="question-number">02</div>
        <img src="ç´ æå›¾/é—®å·.png" alt="å³ä¸Šè§’å›¾ç‰‡" class="top-image">
        <div class="quiz-content">
          <h3 class="quiz-title">è¶£å‘³é—®ç­” 2</h3>
          <p class="quiz-text">è´µå·ï¼šè´µå·å½æ—ç«æŠŠèŠ‚å…¥é€‰çœçº§éç‰©è´¨æ–‡åŒ–é—äº§çš„æ—¶é—´æ˜¯ï¼Ÿ </p>
          <div class="quiz-options">
            <div class="option">
              <label for="option2-1">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹1å›¾ç‰‡" class="option-image">
                <span> A. 2021å¹´</span>
              </label>
              <input type="radio" id="option2-1" name="quiz2" value="1">
            </div>
            <div class="option">
              <label for="option2-2">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹2å›¾ç‰‡" class="option-image">
                <span>B. 2024å¹´</span>
              </label>
              <input type="radio" id="option2-2" name="quiz2" value="2">
            </div>
            <div class="option">
              <label for="option2-3">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹3å›¾ç‰‡" class="option-image">
                <span>C. 2023å¹´</span>
              </label>
              <input type="radio" id="option2-3" name="quiz2" value="3">
            </div>
          </div>
        </div>
      </div>
      <div class="quiz-box" data-quiz="3">
        <div class="question-number">03</div>
        <img src="ç´ æå›¾/é—®å·.png" alt="å³ä¸Šè§’å›¾ç‰‡" class="top-image">
        <div class="quiz-content">
          <h3 class="quiz-title">è¶£å‘³é—®ç­” 3</h3>
          <p class="quiz-text">å››å·ï¼šå››å·å‡‰å±±å½æ—ç«æŠŠèŠ‚çš„ä¸»è¦æ´»åŠ¨ä¸åŒ…æ‹¬ä»¥ä¸‹å“ªä¸€é¡¹ï¼Ÿ</p>
          <div class="quiz-options">
            <div class="option">
              <label for="option3-1">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹1å›¾ç‰‡" class="option-image">
                <span>A. ç«–ç«‹å¤§ç«æŠŠ</span>
              </label>
              <input type="radio" id="option3-1" name="quiz3" value="1">
            </div>
            <div class="option">
              <label for="option3-2">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹2å›¾ç‰‡" class="option-image">
                <span>B. è·³é“œé¼“èˆ</span>
              </label>
              <input type="radio" id="option3-2" name="quiz3" value="2">
            </div>
            <div class="option">
              <label for="option3-3">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹3å›¾ç‰‡" class="option-image">
                <span>C. èµ›é©¬</span>
              </label>
              <input type="radio" id="option3-3" name="quiz3" value="3">
            </div>
          </div>
        </div>
      </div>
      <div class="quiz-box" data-quiz="4">
        <div class="question-number">04</div>
        <img src="ç´ æå›¾/é—®å·.png" alt="å³ä¸Šè§’å›¾ç‰‡" class="top-image">
        <div class="quiz-content">
          <h3 class="quiz-title">è¶£å‘³é—®ç­” 4</h3>
          <p class="quiz-text">å¹¿è¥¿ï¼šå¹¿è¥¿å½æ—ç«æŠŠèŠ‚åˆç§°ä»€ä¹ˆï¼Ÿ</p>
          <div class="quiz-options">
            <div class="option">
              <label for="option4-1">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹1å›¾ç‰‡" class="option-image">
                <span>A. èå¹´èŠ‚</span>
              </label>
              <input type="radio" id="option4-1" name="quiz4" value="1">
            </div>
            <div class="option">
              <label for="option4-2">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹2å›¾ç‰‡" class="option-image">
                <span>B. æ˜Ÿå›èŠ‚</span>
              </label>
              <input type="radio" id="option4-2" name="quiz4" value="2">
            </div>
            <div class="option">
              <label for="option4-3">
                <img src="ç´ æå›¾/é€‰é¡¹åŸå›¾.png" alt="é€‰é¡¹3å›¾ç‰‡" class="option-image">
                <span>C. è·³å®«èŠ‚</span>
              </label>
              <input type="radio" id="option4-3" name="quiz4" value="3">
            </div>
          </div>
        </div>
      </div>



      <!-- å³ç®­å¤´ -->
      <div class="arrow right-arrow" id="next-quiz">&#9654;</div>
    </div>
  </div>
  <!-- åœ°å›¾ -->
  <div class="container3">
    <div class="fires-container">
      <div id="fire-map">
        <img id="base-map" src="ç´ æå›¾/åœ°å›¾-ä¸­å›½-è£åˆ‡ç‰ˆ2-ç«è‹—åœ°å›¾è“è‰²ç‰ˆ.png" alt="Base Map">
        <img id="outline-map" src="ç´ æå›¾/åœ°å›¾-çº¿-è£åˆ‡ç‰ˆ.png" alt="Outline Map">
        <img class="area-image" src="ç´ æå›¾/åœ°å›¾-äº‘å—-cq-ç»Ÿä¸€è‰².png" alt="äº‘å—" data-original-top="557" data-original-left="360"
          data-original-width="179" data-original-height="185" data-intro="äº‘å—" data-new-src="ç´ æå›¾/åœ°å›¾-äº‘å—-cq-æ¸å˜.png">
        <img class="area-image" src="ç´ æå›¾/åœ°å›¾-å¹¿è¥¿-cq-ç»Ÿä¸€è‰² .png" alt="å¹¿è¥¿" data-original-top="630" data-original-left="509"
          data-original-width="149" data-original-height="116" data-intro="å¹¿è¥¿" data-new-src="ç´ æå›¾/åœ°å›¾-å¹¿è¥¿-cq -æ¸å˜.png">
        <img class="area-image" src="ç´ æå›¾/åœ°å›¾-è´µå·-cq-ç»Ÿä¸€è‰².png" alt="è´µå·" data-original-top="563" data-original-left="490"
          data-original-width="119" data-original-height="104" data-intro="è´µå·" data-new-src="ç´ æå›¾/åœ°å›¾-è´µå·-cq-æ¸å˜.png">
        <img class="area-image" src="ç´ æå›¾/åœ°å›¾-å››å·-cq-ç»Ÿä¸€è‰².png" alt="å››å·" data-original-top="449" data-original-left="381"
          data-original-width="211" data-original-height="184" data-intro="å››å·" data-new-src="ç´ æå›¾/åœ°å›¾-å››å·-cq-æ¸å˜.png">
      </div>
    </div>
    <div class="fire-info-boxes">
      <div class="fire-info-box" id="fire-box1"></div>
      <div class="fire-info-box" id="fire-box2"></div>
    </div>
    <div class="fire-from">æˆ‘æ˜¯æ¥è‡ª</div>
    <div class="fire">çš„å°ç«è‹—</div>
    <div class="ignite">ä¸ºä½ çš„å®¶ä¹¡ç‚¹äº®éé—ä¼ æ‰¿ä¹‹ç«å§ï¼</div>

  </div>
  <!-- ç•™è¨€æ¿åŠ¨ç”» -->
  <div class="container4">
    <div class="message-input-area">
      <div class="message-header">ç•™è¨€å¢™</div>
      <textarea class="message-input" placeholder="å†™ä¸‹ä½ çš„ç•™è¨€..."></textarea>
      <div class="message-controls">
        <div class="avatar-selection">
          <span>é€‰æ‹©å¤´åƒ:</span>
          <div class="avatar-options">
            <div class="avatar-option selected" data-avatar="1">ğŸ‘¦</div>
            <div class="avatar-option" data-avatar="2">ğŸ‘§</div>
            <div class="avatar-option" data-avatar="3">ğŸ§‘</div>
            <div class="avatar-option" data-avatar="4">ğŸ‘©</div>
            <div class="avatar-option" data-avatar="5">ğŸ‘¨</div>
            <div class="avatar-option" data-avatar="6">ğŸ§’</div>
            <div class="avatar-option" data-avatar="7">ğŸ‘¶</div>
          </div>
        </div>
        <button class="send-button">å‘é€</button>
      </div>
    </div>
    <div class="message-wall" id="messageWall"></div>
  </div>

  <!-- è”ç³»æˆ‘ä»¬ -->
  <!-- æ¿å—6: è”ç³»æˆ‘ä»¬ -->
  <div class="footer">
    <div class="footer-content">

      <div class="footer-row">
        <h4>ç½‘ç«™æœåŠ¡</h4>
        <h4>å…³äºæˆ‘ä»¬</h4>
        <h4>è”ç³»æˆ‘ä»¬</h4>
      </div>

      <div class="footer-row">
        <a href="#">å¿«é€Ÿå¯¼èˆª</a>
        <a href="#">å…¬å¸ä»‹ç»</a>
        <a href="#">ç”¨æˆ·æœåŠ¡</a>
      </div>

      <div class="footer-row">
        <a href="#">éé—åœ°å›¾</a>
        <p>å®¢æœé‚®ç®±ï¼šXXXXXXX@XXX</p>
      </div>

      <div class="footer-row">
        <a href="#">ç½‘ç«™è®¿é—®</a>
        <a href="#">ä½ç½®å’¨è¯¢</a>
      </div>
    </div>

    <div class="footer-divider"></div>

    <div class="footer-bottom">
      <a href="#">ç›¸å…³é“¾æ¥</a>
      <a href="#">éšç§æ”¿ç­–</a>
      <a href="#">ç‰ˆæƒå£°æ˜</a>
      <a href="#">ç•™è¨€æ¿</a>
    </div>
  </div>


  <script>
    // è§†é¢‘æ’­æ”¾åŠ¨ç”»
    document.addEventListener('DOMContentLoaded', function () {
      const videoPlayer = document.getElementById('mainVideoPlayer');
      const videoLinks = document.querySelectorAll('.link-line');
      const pageTitle = document.querySelector('.title');

      // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªè§†é¢‘
      const firstVideo = document.querySelector('.link-line.active');
      videoPlayer.src = firstVideo.dataset.video;
      videoPlayer.load();

      // ä¸ºæ¯ä¸ªé“¾æ¥æ·»åŠ ç‚¹å‡»äº‹ä»¶
      videoLinks.forEach(link => {
        link.addEventListener('click', function () {
          // æ›´æ–°è§†é¢‘æº
          const videoSrc = this.dataset.video;
          const videoTitle = this.dataset.title;

          // å¦‚æœç‚¹å‡»çš„æ˜¯å½“å‰æ­£åœ¨æ’­æ”¾çš„è§†é¢‘ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
          if (videoPlayer.src.endsWith(videoSrc)) return;

          // æ›´æ–°è§†é¢‘
          videoPlayer.src = videoSrc;
          videoPlayer.load();
          videoPlayer.play();

          // æ›´æ–°æ ‡é¢˜
          pageTitle.textContent = `é‡è§~ç«æŠŠèŠ‚ - ${videoTitle}`;

          // æ›´æ–°æ´»è·ƒçŠ¶æ€
          videoLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // è§†é¢‘åŠ è½½é”™è¯¯å¤„ç†
      videoPlayer.addEventListener('error', function () {
        alert('è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥è§†é¢‘è·¯å¾„æ˜¯å¦æ­£ç¡®');
      });
    });

    // ç•™è¨€æ¿åŠ¨ç”»
    document.addEventListener('DOMContentLoaded', function () {
      const sendButton = document.querySelector('.send-button');
      const messageInput = document.querySelector('.message-input');
      const messageWall = document.getElementById('messageWall');
      const avatarOptions = document.querySelectorAll('.avatar-option');

      let selectedAvatar = '1';
      const colorPalette = [
        '#FFD1DC', '#FFECF1', '#FFF0F5', '#FFE4E1',
        '#F8D5F0', '#F4B8E4', '#EF9CDD', '#E97FD5',
        '#FFDFD3', '#FEC8D8', '#D291BC', '#E0BBE4'
      ];

      // é€‰æ‹©å¤´åƒ
      avatarOptions.forEach(option => {
        option.addEventListener('click', function () {
          document.querySelector('.avatar-option.selected').classList.remove('selected');
          this.classList.add('selected');
          selectedAvatar = this.dataset.avatar;
        });
      });

      // å‘é€ç•™è¨€
      sendButton.addEventListener('click', function () {
        const messageText = messageInput.value.trim();
        if (messageText) {
          createMessageBox(messageText, selectedAvatar);
          messageInput.value = '';
        }
      });

      // æŒ‰Enteré”®å‘é€
      messageInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendButton.click();
        }
      });

      // åˆ›å»ºç•™è¨€æ¡†
      function createMessageBox(text, avatar) {
        const messageBox = document.createElement('div');
        messageBox.className = 'message-box';

        // éšæœºé€‰æ‹©èƒŒæ™¯é¢œè‰²
        const randomColor = colorPalette[Math.floor(Math.random() * colorPalette.length)];
        messageBox.style.backgroundColor = randomColor;

        // éšæœºä½ç½® (ç¡®ä¿ä¸é‡å )
        let top, left;
        let attempts = 0;
        const maxAttempts = 10;

        do {
          top = Math.random() * 70;
          left = Math.random() * 70;
          attempts++;
        } while (checkOverlap(messageBox, top, left) && attempts < maxAttempts);

        messageBox.style.top = `${top}%`;
        messageBox.style.left = `${left}%`;

        // æ·»åŠ å¤´åƒ
        const avatarSpan = document.createElement('span');
        avatarSpan.className = 'message-avatar';
        avatarSpan.textContent = getAvatarEmoji(avatar);

        // æ·»åŠ å†…å®¹
        const contentSpan = document.createElement('span');
        contentSpan.className = 'message-content';
        contentSpan.textContent = text;

        // æ·»åŠ å°ç«è‹—
        const flameSpan = document.createElement('span');
        flameSpan.className = 'message-flame';
        flameSpan.textContent = 'ğŸ”¥';

        // ç»„åˆå…ƒç´ 
        messageBox.appendChild(avatarSpan);
        messageBox.appendChild(contentSpan);
        messageBox.appendChild(flameSpan);

        // æ·»åŠ åˆ°ç•™è¨€å¢™
        messageWall.appendChild(messageBox);
      }

      // æ£€æŸ¥æ˜¯å¦é‡å 
      function checkOverlap(newBox, top, left) {
        const boxes = document.querySelectorAll('.message-box');
        const newRect = {
          top: parseFloat(top),
          left: parseFloat(left),
          width: 200,
          height: 60
        };

        for (const box of boxes) {
          const rect = box.getBoundingClientRect();
          const existingRect = {
            top: parseFloat(box.style.top),
            left: parseFloat(box.style.left),
            width: rect.width,
            height: rect.height
          };

          if (!(newRect.left > existingRect.left + existingRect.width ||
            newRect.left + newRect.width < existingRect.left ||
            newRect.top > existingRect.top + existingRect.height ||
            newRect.top + newRect.height < existingRect.top)) {
            return true;
          }
        }
        return false;
      }

      // è·å–å¤´åƒemoji
      function getAvatarEmoji(avatarNum) {
        const emojis = ['ğŸ‘¦', 'ğŸ‘§', 'ğŸ§‘', 'ğŸ‘©', 'ğŸ‘¨', 'ğŸ§’', 'ğŸ‘¶'];
        return emojis[parseInt(avatarNum) - 1] || 'ğŸ‘¤';
      }

      // é¢„åŠ è½½æ›´å¤šç¤ºä¾‹ç•™è¨€
      const sampleMessages = [
        { text: "ç«æŠŠèŠ‚å¿«ä¹ï¼ç¥å¤§å®¶ç©å¾—å¼€å¿ƒï¼", avatar: "1" },
        { text: "ä»Šå¤©çš„è¡¨æ¼”å¤ªç²¾å½©äº†ï¼æ¼”å‘˜ä»¬è¾›è‹¦äº†", avatar: "2" },
        { text: "æœŸå¾…æ˜å¹´çš„ç«æŠŠèŠ‚ï¼Œä¸€å®šä¼šæ›´ç²¾å½©", avatar: "3" },
        { text: "ä¼ ç»Ÿæ–‡åŒ–çœŸæœ‰è¶£ï¼Œå­¦åˆ°äº†å¾ˆå¤šçŸ¥è¯†", avatar: "4" },
        { text: "ç«æŠŠèŠ‚çš„ç¯ç«æ™šä¼šå¤ªæ£’äº†ï¼", avatar: "5" },
        { text: "ç¬¬ä¸€æ¬¡å‚åŠ ç«æŠŠèŠ‚ï¼Œä½“éªŒéå¸¸å¥½", avatar: "6" },
        { text: "æ°‘æ—æœé¥°å±•ç¤ºç¯èŠ‚å¤ªç¾äº†", avatar: "7" },
        { text: "ç«æŠŠèŠ‚çš„ç¾é£Ÿè®©äººå›å‘³æ— ç©·", avatar: "1" },
        { text: "ä¼ ç»Ÿèˆè¹ˆè¡¨æ¼”å¾ˆæœ‰æ„ŸæŸ“åŠ›", avatar: "2" },
        { text: "æ˜å¹´è¿˜è¦æ¥å‚åŠ ç«æŠŠèŠ‚", avatar: "3" },
        { text: "ç«æŠŠèŠ‚çš„æ°›å›´å¤ªæ£’äº†", avatar: "4" },
        { text: "æ„Ÿå—åˆ°äº†æµ“åšçš„æ°‘æ—æ–‡åŒ–", avatar: "5" }
      ];

      // éšæœºåˆ†å¸ƒç¤ºä¾‹ç•™è¨€
      sampleMessages.forEach(msg => {
        createMessageBox(msg.text, msg.avatar);
      });
    });
    //è¶£å‘³ç­”é¢˜
    const options = document.querySelectorAll('.option');
    const correctAnswer = 1; // æ­£ç¡®ç­”æ¡ˆæ˜¯é€‰é¡¹1

    options.forEach(option => {
      option.addEventListener('click', function () {
        const selectedValue = this.querySelector('input').value;
        const isCorrect = selectedValue == correctAnswer;

        // é‡ç½®æ‰€æœ‰é€‰é¡¹å›¾ç‰‡
        document.querySelectorAll('.option-image').forEach(img => {
          img.src = "ç´ æå›¾/é€‰é¡¹åŸå›¾.png";
        });

        // æ›´æ–°å½“å‰é€‰é¡¹å›¾ç‰‡
        const currentImg = this.querySelector('.option-image');
        if (isCorrect) {
          currentImg.src = "ç´ æå›¾/é€‰å¯¹ç…§ç‰‡.png"; // æ›¿æ¢ä¸ºä½ çš„æ­£ç¡®å›¾ç‰‡è·¯å¾„
        } else {
          currentImg.src = "ç´ æå›¾/é€‰é”™ç…§ç‰‡.png"; // æ›¿æ¢ä¸ºä½ çš„é”™è¯¯å›¾ç‰‡è·¯å¾„
        }
      });
    });
    document.addEventListener('DOMContentLoaded', function () {
      const quizBoxes = document.querySelectorAll('.quiz-box');
      const prevBtn = document.getElementById('prev-quiz');
      const nextBtn = document.getElementById('next-quiz');
      const progressDots = document.querySelectorAll('.progress-dot');
      let currentQuiz = 0;

      // åˆå§‹åŒ–æ˜¾ç¤ºç¬¬ä¸€ä¸ªé—®é¢˜
      showQuiz(currentQuiz);

      // ä¸‹ä¸€é¢˜æŒ‰é’®
      nextBtn.addEventListener('click', function () {
        if (currentQuiz < quizBoxes.length - 1) {
          currentQuiz++;
          showQuiz(currentQuiz);
        }
      });

      // ä¸Šä¸€é¢˜æŒ‰é’®
      prevBtn.addEventListener('click', function () {
        if (currentQuiz > 0) {
          currentQuiz--;
          showQuiz(currentQuiz);
        }
      });

      // è¿›åº¦ç‚¹ç‚¹å‡»äº‹ä»¶
      progressDots.forEach((dot, index) => {
        dot.addEventListener('click', function () {
          currentQuiz = index;
          showQuiz(currentQuiz);
        });
      });

      // æ˜¾ç¤ºæŒ‡å®šé—®é¢˜
      function showQuiz(index) {
        // éšè—æ‰€æœ‰é—®é¢˜
        quizBoxes.forEach(box => {
          box.classList.remove('active');
        });

        // æ˜¾ç¤ºå½“å‰é—®é¢˜
        quizBoxes[index].classList.add('active');

        // æ›´æ–°ç®­å¤´çŠ¶æ€
        prevBtn.style.visibility = index === 0 ? 'hidden' : 'visible';
        nextBtn.style.visibility = index === quizBoxes.length - 1 ? 'hidden' : 'visible';

        // æ›´æ–°è¿›åº¦ç‚¹
        progressDots.forEach((dot, i) => {
          if (i === index) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });
      }

      // ä¸ºæ¯ä¸ªé—®é¢˜æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
      quizBoxes.forEach((box, boxIndex) => {
        const options = box.querySelectorAll('.option');
        const correctAnswer = 1; // æ¯ä¸ªé—®é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè®¾ç½®

        options.forEach(option => {
          option.addEventListener('click', function () {
            const selectedValue = this.querySelector('input').value;
            const isCorrect = selectedValue == correctAnswer;

            // é‡ç½®å½“å‰é—®é¢˜çš„æ‰€æœ‰é€‰é¡¹å›¾ç‰‡
            box.querySelectorAll('.option-image').forEach(img => {
              img.src = "ç´ æå›¾/é€‰é¡¹åŸå›¾.png";
            });

            // æ›´æ–°å½“å‰é€‰é¡¹å›¾ç‰‡
            const currentImg = this.querySelector('.option-image');
            if (isCorrect) {
              currentImg.src = "ç´ æå›¾/é€‰å¯¹ç…§ç‰‡.png";
              // 2ç§’åè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜
              if (boxIndex < quizBoxes.length - 1) {
                setTimeout(() => {
                  currentQuiz = boxIndex + 1;
                  showQuiz(currentQuiz);
                }, 2000);
              }
            } else {
              currentImg.src = "ç´ æå›¾/é€‰é”™ç…§ç‰‡.png";
            }
          });
        });
      });
      quizBoxes.forEach((box, boxIndex) => {
        const options = box.querySelectorAll('.option');
        const correctAnswer = 2; // æ¯ä¸ªé—®é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè®¾ç½®

        options.forEach(option => {
          option.addEventListener('click', function () {
            const selectedValue = this.querySelector('input').value;
            const isCorrect = selectedValue == correctAnswer;

            // é‡ç½®å½“å‰é—®é¢˜çš„æ‰€æœ‰é€‰é¡¹å›¾ç‰‡
            box.querySelectorAll('.option-image').forEach(img => {
              img.src = "ç´ æå›¾/é€‰é¡¹åŸå›¾.png";
            });

            // æ›´æ–°å½“å‰é€‰é¡¹å›¾ç‰‡
            const currentImg = this.querySelector('.option-image');
            if (isCorrect) {
              currentImg.src = "ç´ æå›¾/é€‰å¯¹ç…§ç‰‡.png";
              // 2ç§’åè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜
              if (boxIndex < quizBoxes.length - 1) {
                setTimeout(() => {
                  currentQuiz = boxIndex + 1;
                  showQuiz(currentQuiz);
                }, 2000);
              }
            } else {
              currentImg.src = "ç´ æå›¾/é€‰é”™ç…§ç‰‡.png";
            }
          });
        });
      });
      quizBoxes.forEach((box, boxIndex) => {
        const options = box.querySelectorAll('.option');
        const correctAnswer = 1; // æ¯ä¸ªé—®é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè®¾ç½®

        options.forEach(option => {
          option.addEventListener('click', function () {
            const selectedValue = this.querySelector('input').value;
            const isCorrect = selectedValue == correctAnswer;

            // é‡ç½®å½“å‰é—®é¢˜çš„æ‰€æœ‰é€‰é¡¹å›¾ç‰‡
            box.querySelectorAll('.option-image').forEach(img => {
              img.src = "ç´ æå›¾/é€‰é¡¹åŸå›¾.png";
            });

            // æ›´æ–°å½“å‰é€‰é¡¹å›¾ç‰‡
            const currentImg = this.querySelector('.option-image');
            if (isCorrect) {
              currentImg.src = "ç´ æå›¾/é€‰å¯¹ç…§ç‰‡.png";
              // 2ç§’åè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜
              if (boxIndex < quizBoxes.length - 1) {
                setTimeout(() => {
                  currentQuiz = boxIndex + 1;
                  showQuiz(currentQuiz);
                }, 2000);
              }
            } else {
              currentImg.src = "ç´ æå›¾/é€‰é”™ç…§ç‰‡.png";
            }
          });
        });
      });
    });

    document.addEventListener('DOMContentLoaded', function () {
        // åœ°å›¾ç›¸å…³
        function resizeImages() {
          const container = document.getElementById('fire-map');
          const baseMap = document.getElementById('base-map');
          const areaImages = document.querySelectorAll('.area-image');

          const containerWidth = container.offsetWidth;
          const containerHeight = container.offsetHeight;
          const baseMapWidth = baseMap.naturalWidth;
          const baseMapHeight = baseMap.naturalHeight;

          const widthRatio = containerWidth / baseMapWidth;
          const heightRatio = containerHeight / baseMapHeight;

          areaImages.forEach(image => {
            const originalTop = parseInt(image.dataset.originalTop);
            const originalLeft = parseInt(image.dataset.originalLeft);
            const originalWidth = parseInt(image.dataset.originalWidth);
            const originalHeight = parseInt(image.dataset.originalHeight);

            const newTop = originalTop * heightRatio;
            const newLeft = originalLeft * widthRatio;
            const newWidth = originalWidth * widthRatio;
            const newHeight = originalHeight * heightRatio;

            image.style.top = newTop + 'px';
            image.style.left = newLeft + 'px';
            image.style.width = newWidth + 'px';
            image.style.height = newHeight + 'px';
          });
        }

        window.addEventListener('resize', resizeImages);
        window.addEventListener('load', resizeImages);

        const areaImages = document.querySelectorAll('.area-image');
        // åŠ¨æ€åˆ›å»º fire-intro-text å¹¶æ·»åŠ åˆ°é¡µé¢
        const fireIntroText = document.createElement('div');
        fireIntroText.classList.add('fire-intro-text');
        fireIntroText.style.zIndex = '999';
        fireIntroText.style.position = 'absolute';
        fireIntroText.style.display = 'none';

        document.body.appendChild(fireIntroText);

        const box1Content = `
                <div class="box1-content">
                    <h2>å…±æœ‰</h2>
                    <span>23334</span>
                    <p>äººä¸ä½ ä¸€åŒç‚¹äº®</p>
                </div>
            `;
        const box2Content = `
                <div class="box2-content">
                    <ul>
                        <li>
                            <div class="col-icon"></div>
                            <h2 class="col-h2">å››å·</h2>
                            <span class="col-span">7895</span>
                            <p class="col-p">ä¸ªå°ç«è‹—</p>
                        </li>
                        <li>
                            <div class="col-icon"></div>
                            <h2 class="col-h2">äº‘å—</h2>
                            <span class="col-span">6692</span>
                            <p class="col-p">ä¸ªå°ç«è‹—</p>
                        </li>
                        <li>
                            <div class="col-icon"></div>
                            <h2 class="col-h2">å¹¿è¥¿</h2>
                            <span class="col-span">4954</span>
                            <p class="col-p">ä¸ªå°ç«è‹—</p>
                        </li>
                        <li>
                            <div class="col-icon"></div>
                            <h2 class="col-h2">è´µå·</h2>
                            <span class="col-span">3793</span>
                            <p class="col-p">ä¸ªå°ç«è‹—</p>
                        </li>
                    </ul>
                </div>
            `;

        let clickCount = 0;
        const fireFrom = document.querySelector('.fire-from');
        const fire = document.querySelector('.fire');
        const fireInfoBoxes = document.querySelector('.fire-info-boxes');
        // é‡ç½®æ‰€æœ‰çŠ¶æ€çš„å‡½æ•°
        function resetAllStates() {
          fireIntroText.style.display = 'none';
          fireIntroText.classList.remove('slide-out');
          fireFrom.style.display = 'none';
          fireFrom.classList.remove('slide-out');
          fire.style.display = 'none';
          fire.classList.remove('slide-out');
          fireInfoBoxes.style.display = 'none';
          fireInfoBoxes.classList.remove('show-boxes');
          areaImages.forEach(img => {
            img.src = img.src.replace(img.dataset.newSrc, img.src.split('/').pop().replace('-æ¸å˜', '-ç»Ÿä¸€è‰²'));
            img.style.opacity = 1;
          });
        }

        // è®¾ç½® fire-from çš„ top å€¼
        fireFrom.style.top = '40px'; // ä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼
        fireInfoBoxes.style.display = 'flex';
        fireInfoBoxes.style.flexDirection = 'column';
        fireInfoBoxes.style.alignItems = 'center';
        fireInfoBoxes.style.gap = '15px';
        areaImages.forEach((image) => {
          image.addEventListener('click', () => {
            const intro = image.dataset.intro;
            if (!intro) {
              console.error('intro ä¸ºç©ºï¼Œè¯·æ£€æŸ¥ data-intro å±æ€§');
              return;
            }
            resetAllStates();
            if (clickCount === 0) {
              // ç¬¬ä¸€æ¬¡ç‚¹å‡»é€»è¾‘
              fireIntroText.textContent = intro;

              const rect = image.getBoundingClientRect();
              fireIntroText.style.top = '1400px'; // ä¿®æ”¹é¡¶éƒ¨ä½ç½®
              fireIntroText.style.left = '500px'; // ä¿®æ”¹å·¦ä¾§ä½ç½®
              fireIntroText.style.display = 'block';
              fireIntroText.style.opacity = 1;
              fireFrom.style.display = 'block';
              fireFrom.style.opacity = 1;
              fire.style.display = 'block';
              fire.style.opacity = 1;

              image.src = image.dataset.newSrc;
              image.style.opacity = 1;
              clickCount++;
            } else if (clickCount === 1) {
              // ç¬¬äºŒæ¬¡ç‚¹å‡»é€»è¾‘
              const performSecondClickActions = () => {
                fireIntroText.style.display = 'none';
                fireIntroText.classList.remove('slide-out');
                fireFrom.style.display = 'none';
                fireFrom.classList.remove('slide-out');
                fire.style.display = 'none';
                fire.classList.remove('slide-out');

                fireInfoBoxes.style.display = 'flex';
                fireInfoBoxes.classList.add('show-boxes');

                document.getElementById('fire-box1').innerHTML = box1Content;
                document.getElementById('fire-box2').innerHTML = box2Content;

                areaImages.forEach((img, index) => {
                  setTimeout(() => {
                    img.src = img.dataset.newSrc;
                    img.style.opacity = 1;
                  }, index * 200);
                });
                const pElements = document.querySelectorAll('.fire-info-box p');
                pElements.forEach(p => {
                  p.style.width = '200px'; // ä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼
                });
              };

              fireIntroText.classList.add('slide-out');
              fireFrom.classList.add('slide-out');
              fire.classList.add('slide-out');
              const animationDuration = 500;
              setTimeout(performSecondClickActions, animationDuration);

              clickCount = 0;
            }
          });
        });
        document.addEventListener('click', (e) => {
          if (!e.target.closest('.area-image') && !e.target.closest('.fire-info-boxes')) {
            resetAllStates();
          }
        });
        document.addEventListener('click', (e) => {
          if (!e.target.closest('.area-image') && !e.target.closest('.fire-info-boxes')) {
            const fireInfoBoxes = document.querySelector('.fire-info-boxes');
            if (fireInfoBoxes.classList.contains('show-boxes')) {
              fireInfoBoxes.classList.remove('show-boxes');
              setTimeout(() => {
                fireInfoBoxes.style.display = 'none';
              }, 500);
            }
          }
        });
        // ä¿®æ”¹ fire-info-box çš„å®½åº¦
        const fireInfoBoxesElements = document.querySelectorAll('.fire-info-box');
        fireInfoBoxesElements.forEach(box => {
          box.style.width = '500px'; // ä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼
          box.position = 'relative';
          box.style.top = '200px'; // ä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼
        });

      });

  </script>
</body>

</html>